# 嵌入式学习

## 一. 环境搭建

在搭建开发环境，安装各种软件、驱动时，我选择在VMware虚拟机中搭建。由于Windefender的误杀，keil MDk中的文件很容易丢失，所以需要关闭windefender。另外使用虚拟机环境可以更方便的管理系统快照，USB可移动设备。

下载软件可选用FlyMcu和ST-LINK。前者需要使用keil编译出的.hex进行烧录且速度较慢，后者则可以直接在keil中点击download下载，下载速度快。二者在下载前都要注意，保证编译的代码没有错误。

## 二GPIO的工作模式、基本原理及配置

### 1.GPIO简介

* GPIO（General Purpose Input Output）通用输入输出口
* 可配置为8种输入输出模式
* 引脚电平：0V~3.3V，部分引脚可容忍5V
* 输出模式下可控制端口输出高低电平，用以驱动LED、控制蜂鸣器、模拟通信协议输出时序等
* 输入模式下可读取端口的高低电平或电压，用于读取按键输入、外接模块电平信号输入、ADC电压采集、模拟通信协议接收数据等

## 三.完成跑马灯任务的代码编写与调试

### 1.开发方式

* 基于寄存器

  直接配置寄存器，最底层最直接效率高，但是难度大。

* 基于标准库（库函数）

  使用官方提供的函数，通过调用函数来间接的配置寄存器
  **本次使用库函数进行开发**

* 基于HALku

  使用图形化界面快速配置stm32，但是不利于深入理解
  
  **本次使用库函数进行开发**

### 2.新建工程模板，导入必要的固件库文件

STM32的工程结构比较复杂，需要用到很多的文件，在导入时要注意是否导入了全部的固件库相关文件。在完成代码编写后也可以删除一些不需要的固件库源文件，跑马灯所需要的必须的源文件是

* misc.c(内核库函数)
* rcc.c(有关时钟)
* gpio.c
* usart.c(串口通信)

